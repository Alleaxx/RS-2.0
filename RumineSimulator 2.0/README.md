# RumineSimulator 2.0
Прекрасный **симулятор Румине 2.0**! Отличается нереализуемыми идеями и весьма страшным их исполнением, как внешним, так и внутренним. 

В плане качестве кода это полный ужас. Совсем. Сделайте это развидеть. Однако это тот самый первый симулятор:
- Исходный код которого полностью сохранился;
- Сделанный на WPF (не WinForms);
- В котором появился цвет текста и какие-то картинки (аватарки);
- Обладающий более чем 10к строк исходного кода;
- С АМБИЦИОЗНЕЙШИМИ идеями симуляции каждой минуты и каждого сообщения пользователей.

Это всё лирика конечно. Если по делу, то это приложение, которая генерирует случайных пользователей сайта [ru-minecraft.ru](https://ru-minecraft.ru/forum) и совсем чуть-чуть моделирует их активность. Продолжатель идей симулятора Румине 1.0, прародитель версии 3.0.
Код данного поделия опубликован ради истории и примера того, как делать НЕ надо.

## Обещанные возможности
Главная и единственная возможность - просмотр единоразово сгенерированного Румине со всеми его типичными проявлениями:
- Пользователи сайта, у которых:
    - Аватарки и ник соответствуют настоящим юзерам, все остальные сочетания параметров случайные;
	- Группы с действующими условиями получения;
	- Общесайтовая и форумная статистика;
	- Репутация (которую никто не ставит) и карма;
	- Баны и предупреждения (их никто не выдает);
	- Характер с 8-ю параметрами и мемными чертами (трейтами);
	- Система связей и отношений между пользователями на основе сравнения их характера;
	- Система фракций, которая была удалена на пол-пути…
- Ход времени
	- Время идет по минутам, его можно ставить на паузу, ускорять и замедлять;
	- Каждую минуту некоторые пользователи заходят в онлайн и с некоторым шансом совершают действия;
	- Завершенные действия влияют на активность, а вот активность не влияет ни на что!
	- Про завершенные действия (события) можно было что-нибудь прочитать, но никаких значимых событий так добавлено и не было, поэтому читать совершенно не про что.
- Игра за пользователя
	- Игроку выдавался случайный пользователь, который, возможно, мог делать какие-то действия, занимающие время;
	- Однако этот функционал так и остался в состоянии полной неработоспособности. Увы!

![Окно симулятора](https://i.ibb.co/QngKL02/image.png)

### Что симулятор в итоге ДЕЛАЕТ:
- Единоразово генерирует относительно логичных пользователей с отношениями и рофельным характером.
- Рассчитывает группу и показатель пользователей в зависимости от их характера.
- Генерирует простейшие события без описания (юзер написал сообщения), которые делают +1 к показателям и рассчитывает крайне условную активность
- Показывает несколько гипотетических экранов изменения репутации / предупреждений / событий / активности / действий, которые могли бы использоваться в дальнейшем

### Что симулятор в итоге НЕ делает:
- Не генерирует связанные события и рофельную историю
- Не позволяет совершать хоть какие-либо действия от лица пользователя
- Не позволяет перезапускать симуляцию. Только через закрытие / открытие самого приложения

По сути в данной версии симулятора есть только начальная случайная генерация пользователей. Вот и всё.

## Запуск
Требуется Windows 7+ с .NET Framework не ниже 4.5.1
Для установки необходимо скачать .exe файл выбранного релиза и запустить сквозь все предупреждения. 
- v2.0 - наиболее старая доступная, амбициозная и страшная версия;
- v2.4 - наиболее полная, с обновленным интерфейсом и наполнением версия;
- v2.5 - последняя версия с вырезанным контентом и ??? версия.

Да, при этом скажут, что файл подозрительный, ну а что? Весь исходный код - вот он, попробуйте найти там что-то опасное для вашего компьютера. 

### Основное управление
После запуска нужно последовательно "сгенерировать пользователей", "запустить ход времени" и "запустить геймплей" (если такой пункт есть). После чего перейти на вкладку пользователей и нажать кнопочку с надписью "F5" в левой колонке (не настоящую F5!). 

Вот и всё! Более никаких премудростей не требуется. Остальные опции или не работают вообще, или работают слишком очевидно для их объяснения. Если после нажатия на некий соблазнительный пункт всё зависло, и приложение исчезло - что ж, увы. Туда нажимать не надо.

## Антипаттерны в коде:
Их тут много! Настолько много, что всё и не перечислить. Улучшать этот код бесполезно - его спасет только переписывание с нуля, что, кстати, и произошло, причем довольно давно.
**Организация:**
- Классы на 800 строк.
- Длиннющие методы, до 100 строк!
- Закомментированные файлы на 400 строк. Кому они были необходимы, зачем и как - никто уже и не знает....
- Многочисленные region везде, ведь как-то надо контролировать этот 800-строковый бардак!
- Комментарии почти к каждому методу и даже внутри методов по несколько комментариев! Но это не помогает.
- Жутчайшее дублирование кода и отсутствие желания выделять похожие функции.
- Почти полное отсутствие использования LINQ, интерфейсов, делегатов, да и даже просто событий.

**Интерфейс:**
- Внешний вид элементов интерфейса (отступы, границы, цвет, содержимое...) настраиваются целиком в коде C#.
- Из предыдущего пункта вытекает следующий - весь интерфейс построен на списках с выбираемыми элементами, которые вручную очищаются / пополняются сгенерированными в коде объектами GUI. 
- Полное отсуствие использования возможностей WPF в виде привязки данных, шаблонов или чего-то подобного.

**Условия:**
- Условия, которые всегда равны true, но содержат ветку else, причем с одинаковыми действиями что для if, что для else.
- Многочисленные switch'и вплоть до 100 строк со ВСЯКИМИ условиями.
- Порой try и catch используются как if и else.

**В общем:**
- Общая структура примерно следующая: есть куча static-классов, они там как-то друг к другу обращаются. А контролирует всё код главного окна, где сидит главный таймер. Ну вот как-то так…
- Все данные крайне жестко зашиты в коде, добавление этих данных занимает те самые 800 строк.
- Постоянные вылеты везде и всюду.
	

### Отдельные шедевры
Вышеперечисленные проблемы наиболее ярко демонстрируют следующие файлы:
- ```MainWindow.xaml.cs```
- ```Warnings.xaml.cs```
- ```WindowReputation.xaml.cs```
- ```Трейты/Trait.cs```
- ```Пользователь/UserControl.cs```


Помните, что писать код так, как написано там - НЕЛЬЗЯ! Ну вообще можно конечно, но не рекомендуется.
